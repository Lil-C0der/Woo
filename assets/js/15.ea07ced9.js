(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{390:function(e,t,n){"use strict";var i=n(1),s=n(40).find,a=n(123),c=n(24),o=!0,r=c("find");"find"in[]&&Array(1).find((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!r},{find:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a("find")},408:function(e,t,n){"use strict";var i=n(1),s=n(126),a=n(58),c=n(14),o=n(15),r=n(127),l=n(60),d=n(59),u=n(24),h=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,f=Math.min;i({target:"Array",proto:!0,forced:!h||!m},{splice:function(e,t){var n,i,d,u,h,m,v=o(this),g=c(v.length),w=s(e,g),C=arguments.length;if(0===C?n=i=0:1===C?(n=0,i=g-w):(n=C-2,i=f(p(a(t),0),g-w)),g+n-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(d=r(v,i),u=0;u<i;u++)(h=w+u)in v&&l(d,u,v[h]);if(d.length=i,n<i){for(u=w;u<g-i;u++)m=u+n,(h=u+i)in v?v[m]=v[h]:delete v[m];for(u=g;u>g-i+n;u--)delete v[u-1]}else if(n>i)for(u=g-i;u>w;u--)m=u+n-1,(h=u+i-1)in v?v[m]=v[h]:delete v[m];for(u=0;u<n;u++)v[u+w]=arguments[u+2];return v.length=g-i+n,d}})},409:function(e,t,n){},410:function(e,t,n){},417:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));n(121);var i=[],s=function(e){i.forEach((function(t){t.el===e.target||t.el.contains(e.target)||t.cb()}))};document.addEventListener("click",s);var a=function(){document.removeEventListener("click",s)};t.a={bind:function(e,t,n){i.push({el:e,cb:t.value})}}},454:function(e,t,n){"use strict";var i=n(409);n.n(i).a},456:function(e,t,n){"use strict";var i=n(410);n.n(i).a},458:function(e,t,n){},497:function(e,t,n){"use strict";n(390),n(121),n(218),n(214),n(220),n(86),n(61),n(408),n(85),n(12),n(125),n(219),n(122),n(215);var i=n(391),s={name:"woo-cascader-menu",props:{selectedItems:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}},items:{type:Array},level:{type:Number,default:0},loadingItem:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{handleItemClick:function(e){var t=JSON.parse(JSON.stringify(this.selectedItems));t[this.level]=e,t.splice(this.level+1),this.$emit("itemChange",t)},handleItemChange:function(e){this.$emit("itemChange",e)},arrowVisible:function(e){return"isLeaf"in e?!e.isLeaf:e.children},loadingIconVisible:function(e){return this.arrowVisible(e)&&this.loadingItem.id===e.id},selectedItem:function(e){var t=this.selected,n=this.level;return!(!t||t[n]!==e.id)&&"selected-item"}},computed:{childrenItems:function(){var e=this,t=this.items.find((function(t){var n;return t.id===(null===(n=e.selectedItems[e.level])||void 0===n?void 0:n.id)}));return null==t?void 0:t.children}},watch:{selected:function(){this.selectedCopy=this.selected}},components:{"woo-icon":i.a,"woo-cascader-menu":c}},a=(n(454),n(32)),c=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"woo-cascader-menu-wrapper"},[n("ul",{staticClass:"woo-cascader-menu-left"},e._l(e.items,(function(t){return n("li",{key:t.value,staticClass:"woo-cascader-menu-item",class:e.selectedItem(t),on:{click:function(n){return n.stopPropagation(),e.handleItemClick(t)}}},[n("span",{staticClass:"cascader-menu-item-text"},[e._v("\n        "+e._s(t.name)+"\n      ")]),e._v(" "),e.loadingIconVisible(t)?[n("woo-icon",{attrs:{name:"loading"}})]:[e.arrowVisible(t)?n("woo-icon",{staticClass:"item-icon",attrs:{name:"right"}}):e._e()]],2)})),0),e._v(" "),e.childrenItems?n("woo-cascader-menu",{attrs:{items:e.childrenItems,level:e.level+1,selected:e.selected,"selected-items":e.selectedItems,"loading-item":e.loadingItem},on:{itemChange:e.handleItemChange}}):e._e()],1)}),[],!1,null,"30e841a6",null).exports,o=n(425),r=n(417),l={name:"woo-cascader",components:{WooCascaderMenu:c,WooInput:o.a},model:{prop:"selected",event:"change"},directives:{clickOutside:r.a},props:{selected:{type:Array,default:function(){return[]}},source:{type:Array},loadData:{type:Function}},data:function(){return{popperVisible:!1,selectedItems:[],selectedCopy:this.selected,loadingItem:{}}},methods:{handleClick:function(){this.popperVisible?this.hidePopper():this.showPopper()},showPopper:function(){this.popperVisible=!0},hidePopper:function(){this.popperVisible=!1},handleItemChange:function(e){var t,n=this;if((null===(t=this.selected)||void 0===t?void 0:t.toString())!==e.toString()){var i=e[e.length-1],s=function(e,t){return e.find((function(e){return e.id===t}))};this.loadData&&(this.loadData(i,(function(e){if(!e)return n.loadingItem={},!1;var t=JSON.parse(JSON.stringify(n.source));(function e(t,n){var i=[],a=[];t.forEach((function(e){e.children?a.push(e):i.push(e)}));var c=s(i,n);if(c)return c;var o=s(a,n);if(o)return o;for(var r=0;r<a.length;r++){var l=e(a[r].children,n);if(l)return l}}(t,i.id)).children=e,n.$emit("update:source",t),n.loadingItem={}})),this.loadingItem=i),this.selectedItems=e,this.selectedCopy=e.map((function(e){return e.id})),this.getItems(this.source,this.selectedCopy),this.$emit("change",this.selectedCopy)}},getItems:function(e,t){var n=this;this.selectedItems=[],function e(t,i){var s=i.slice(0),a=t.find((function(e){return s.includes(e.id)}));return!!a&&(s.splice(s.indexOf(a.id),1),n.selectedItems.push(a),!!a.children&&void e(a.children,s))}(e,t)}},watch:{popperVisible:function(e){this.$emit("visible-change",e)},selected:function(){this.selectedCopy=this.selected,this.getItems(this.source,this.selectedCopy)}},computed:{inputVal:function(){var e;return null===(e=this.selectedItems)||void 0===e?void 0:e.map((function(e){return e.name})).join(" / ")}},mounted:function(){var e;(null===(e=this.selected)||void 0===e?void 0:e.length)&&this.getItems(this.source,this.selected)},beforeDestroy:function(){Object(r.b)()}},d=(n(456),Object(a.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hidePopper,expression:"hidePopper"}],staticClass:"woo-cascader",on:{click:e.handleClick}},[n("div",{staticClass:"woo-cascader-wrapper"},[n("woo-input",{ref:"inputRef",staticClass:"woo-cascader-picker",attrs:{readonly:"",value:e.inputVal}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.popperVisible,expression:"popperVisible"}],staticClass:"popper-arrow"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.popperVisible,expression:"popperVisible"}],staticClass:"woo-cascader-popper"},[n("woo-cascader-menu",{attrs:{items:e.source,selected:e.selectedCopy,"selected-items":e.selectedItems,"loading-item":e.loadingItem},on:{itemChange:e.handleItemChange}})],1)],1),e._v(" "),e._t("default")],2)}),[],!1,null,"73dc67a4",null));t.a=d.exports},542:function(e,t,n){"use strict";var i=n(458);n.n(i).a},587:function(e,t,n){"use strict";n.r(t);var i={components:{WooCascader:n(497).a},data:function(){return{selected:["shanghai","huangpu"],source:[{id:"guangdong",name:"广东",children:[{id:"shenzhen",name:"深圳",children:[{id:"nanshan",name:"南山"},{id:"futian",name:"福田"},{id:"luohu",name:"罗湖"},{id:"baoan",name:"宝安"}]},{id:"guangzhou",name:"广州",children:[{id:"tianhe",name:"天河"},{id:"liwan",name:"荔湾"},{id:"yuexiu",name:"越秀"},{id:"haizhu",name:"海珠"},{id:"huangpu",name:"黄埔"}]}]},{id:"shanghai",name:"上海",children:[{id:"baoshan",name:"宝山"},{id:"huangpu",name:"黄浦"},{id:"xuhui",name:"徐汇"}]},{id:"zhejiang",name:"浙江",children:[{id:"hangzhou",name:"杭州",children:[{id:"shangcheng",name:"上城"},{id:"xiacheng",name:"下城"},{id:"xihu",name:"西湖"}]},{id:"ningbo",name:"宁波",children:[{id:"haishu",name:"海曙"},{id:"jiangbei",name:"江北"}]}]}]}},methods:{handleChange:function(e){console.log(e)}}},s=(n(542),n(32)),a=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"demo"},[n("p",[e._v("当前选中选项的 id 为 "+e._s(e.selected))]),e._v(" "),n("woo-cascader",{attrs:{source:e.source},on:{change:e.handleChange},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)}),[],!1,null,"1a1253ef",null);t.default=a.exports}}]);