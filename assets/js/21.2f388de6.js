(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{396:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(214),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__);__webpack_exports__.a={name:"woo-popover",model:{prop:"visible",event:"visible-change"},data:function(){return{visibleCopy:this.visible,wrapperLeft:null,wrapperTop:null,timer:null}},props:{visible:{type:Boolean,default:!1},placement:{type:String,default:"top",validator:function(e){return-1!==["top","bottom","left","right"].indexOf(e)}},trigger:{type:String,default:"click",validator:function(e){return-1!==["hover","click"].indexOf(e)}}},methods:{initPopoverPosition:function initPopoverPosition(){var _this=this;document.body.appendChild(this.$refs.contentWrapper),this.$nextTick((function(){var placement=_this.placement,_this$$refs=_this.$refs,contentWrapper=_this$$refs.contentWrapper,triggerWrapper=_this$$refs.triggerWrapper,_triggerWrapper$getBo=triggerWrapper.getBoundingClientRect(),width=_triggerWrapper$getBo.width,height=_triggerWrapper$getBo.height,top=_triggerWrapper$getBo.top,bottom=_triggerWrapper$getBo.bottom,left=_triggerWrapper$getBo.left,right=_triggerWrapper$getBo.right,_contentWrapper$getBo=contentWrapper.getBoundingClientRect(),wrapperWidth=_contentWrapper$getBo.width,wrapperHeight=_contentWrapper$getBo.height;-1!==["top","bottom"].indexOf(placement)?(_this.wrapperLeft=left-(wrapperWidth-width)/2+window.scrollX,_this.wrapperTop=eval(placement)+window.scrollY+("top"===placement?-wrapperHeight-10:10)):(_this.wrapperTop=top-(wrapperHeight-height)/2+window.scrollY,_this.wrapperLeft=eval(placement)+window.scrollX+("left"===placement?-wrapperWidth-10:10))}))},handleTriggerClick:function(){this.visibleCopy?this.hidePopover():this.showPopover()},handleContentMouseenter:function(){clearTimeout(this.timer),this.timer=null},showPopover:function(e){var t=this;this.visibleCopy=!0,setTimeout((function(){document.addEventListener("click",t.hidePopover)}),0)},hidePopover:function(){var e=this;document.removeEventListener("click",this.hidePopover),clearTimeout(this.timer),this.timer=null,this.timer=setTimeout((function(){e.visibleCopy=!1}),200)},initListener:function(){"click"===this.trigger?this.$refs.triggerWrapper.addEventListener("click",this.handleTriggerClick):(this.$refs.triggerWrapper.addEventListener("mouseenter",this.showPopover),this.$refs.triggerWrapper.addEventListener("mouseleave",this.hidePopover),this.$refs.contentWrapper.addEventListener("mouseenter",this.handleContentMouseenter),this.$refs.contentWrapper.addEventListener("mouseleave",this.hidePopover))},removeListener:function(){"click"===this.trigger?this.$refs.triggerWrapper.removeEventListener("click",this.handleTriggerClick):(this.$refs.triggerWrapper.removeEventListener("mouseenter",this.showPopover),this.$refs.triggerWrapper.removeEventListener("mouseleave",this.hidePopover),this.$refs.contentWrapper.removeEventListener("mouseenter",this.handleContentMouseenter),this.$refs.contentWrapper.removeEventListener("mouseleave",this.hidePopover))}},computed:{contentStyle:function(){return{left:"".concat(this.wrapperLeft,"px"),top:"".concat(this.wrapperTop,"px")}}},watch:{visible:function(e){this.visibleCopy=e},visibleCopy:function(e){this.$emit("visible-change",e),e&&this.initPopoverPosition()}},mounted:function(){this.visible&&this.initPopoverPosition(),this.initListener()},beforeDestroy:function(){this.removeListener()}}},397:function(e,t,i){},418:function(e,t,i){"use strict";var r=i(397);i.n(r).a},432:function(e,t,i){"use strict";var r=i(396).a,o=(i(418),i(32)),n=Object(o.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"woo-popover"},[t("div",{directives:[{name:"show",rawName:"v-show",value:this.visibleCopy,expression:"visibleCopy"}],ref:"contentWrapper",staticClass:"woo-popover-content",style:this.contentStyle,on:{click:function(e){e.stopPropagation()}}},[this._t("content"),this._v(" "),t("div",{staticClass:"woo-popover-arrow",class:"arrow-"+this.placement})],2),this._v(" "),t("span",{ref:"triggerWrapper",staticClass:"trigger-wrapper",on:{click:function(e){e.stopPropagation()}}},[this._t("default")],2)])}),[],!1,null,"3e129ecc",null);t.a=n.exports},484:function(e,t,i){},568:function(e,t,i){"use strict";var r=i(484);i.n(r).a},603:function(e,t,i){"use strict";i.r(t);var r=i(404),o=i(432),n={components:{WooButton:r.a,WooPopover:o.a},data:function(){return{visible:!1}},methods:{onChange:function(e){console.log("visible turn to "+e)}}},s=(i(568),i(32)),p=Object(s.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"demo"},[i("woo-popover",{attrs:{trigger:"click"},on:{"visible-change":e.onChange},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",[e._v("确认删除吗？")]),e._v(" "),i("woo-button",{attrs:{type:"danger"},on:{click:function(t){e.visible=!1}}},[e._v("删除")])]},proxy:!0}]),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e._v(" "),i("woo-button",[e._v("点击删除")])],1)],1)}),[],!1,null,"e1549e54",null);t.default=p.exports}}]);